<!doctype html>
<html>
<head><script>

  // Listen to requests to open a new tab
  var t;
  safari.application.addEventListener( 'message', function( event ) {
    if ( event.name == 'newtab' ) {
      t = safari.application.activeBrowserWindow.openTab( event.message.destination );
      t.url = event.message.url;
    }
  });

</script></head>
<body></body>
</html>
